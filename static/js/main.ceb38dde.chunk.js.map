{"version":3,"sources":["utils/api.js","utils/auth.js","contexts/CurrentUserContext.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithImage.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddCardPopup.js","components/Login.js","components/Register.js","components/InfoTooltip.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","options","this","baseUrl","headers","Promise","all","getInitialCards","getUserInfo","a","fetch","res","ok","json","reject","Error","status","cardId","isLiked","method","title","link","body","JSON","stringify","name","url","avatar","info","about","authorization","BASE_URL","CurrentUserContext","createContext","Header","props","className","headerStyle","children","Card","currentUser","useContext","isOwn","card","owner","_id","likes","some","i","type","onClick","onCardDelete","role","style","backgroundImage","alt","onCardClick","aria-label","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddCard","cards","map","index","Footer","PopupWithImage","isOpen","onClose","src","PopupWithForm","content","noValidate","shouldNotValidate","onSubmit","value","buttonValue","submitButtonClass","isPopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","required","minLength","maxLength","defaultValue","onChange","target","EditAvatarPopup","avatarInput","useRef","onUpdateAvatar","ref","AddCardPopup","setTitle","setLink","Login","email","setEmail","password","setPassword","handleLogin","to","Register","handleRegistration","InfoTooltip","isSuccess","ProtectedRoute","Component","component","loggedIn","App","history","useHistory","setLoggedIn","userEmail","setUserEmail","setCurrentUser","setCards","selectedCard","setSelectedCard","isMenuOpen","setIsMenuOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddCardPopupOpen","setIsAddCardPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","setIsSuccess","closeAllPopups","then","catch","err","console","log","initialCards","token","localStorage","getItem","Accept","Authorization","data","checkToken","push","Provider","exact","path","size","color","easing","label","toggled","toggle","removeItem","handleCardClick","updateCardLikes","newCard","newCards","c","handleCardLike","deleteCard","filter","handleCardDelete","patchUserInfo","patchAvatarImage","current","postCard","register","error","setItem","authorize","from","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.ceb38dde.chunk.js","sourcesContent":["class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  getInitialCardsAndUserInfo() {\n    return Promise.all([this.getInitialCards(), this.getUserInfo()]);\n  }\n\n  async getUserInfo() {\n    const res = await fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n    });\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Error: ${res.status}`));\n  }\n\n  async getInitialCards() {\n    const res = await fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n    });\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Error: ${res.status}`));\n  }\n\n  async updateCardLikes(cardId, isLiked) {\n    const method = isLiked ? 'DELETE' : 'PUT';\n    const res = await fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n      headers: this.headers,\n      method,\n    });\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Error: ${res.status}`));\n  }\n\n  async deleteCard(cardId) {\n    const res = await fetch(`${this.baseUrl}/cards/${cardId}`, {\n      headers: this.headers,\n      method: 'DELETE',\n    });\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Error: ${res.status}`));\n  }\n\n  async postCard({ title, link }) {\n    const res = await fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n      method: 'POST',\n      body: JSON.stringify({ name: title, link }),\n    });\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Error: ${res.status}`));\n  }\n\n  async patchAvatarImage(url) {\n    const res = await fetch(`${this.baseUrl}/users/me/avatar`, {\n      headers: this.headers,\n      method: 'PATCH',\n      body: JSON.stringify({ avatar: url }),\n    });\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Error: ${res.status}`));\n  }\n\n  async patchUserInfo(info) {\n    const res = await fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n      method: 'PATCH',\n      body: JSON.stringify({ name: info.name, about: info.about }),\n    });\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Error: ${res.status}`));\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://around.nomoreparties.co/v1/group-5',\n  headers: {\n    authorization: '8cd049ee-8ebb-4e3d-8437-51e87560cee5',\n    'Content-Type': 'application/json',\n  },\n});\n\nexport default api;\n","/* eslint-disable no-console */\nconst BASE_URL = 'https://register.nomoreparties.co';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  })\n    .then((res) => res.json())\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  })\n    .then((res) => res.json())\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem('token', data.token);\n        return data;\n      }\n      throw new Error('No token received');\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((res) => res.json())\n    .then((data) => data)\n    .catch((err) => {\n      console.log(err);\n    });\n};\n","import { createContext } from 'react';\n\nconst CurrentUserContext = createContext({});\n\nexport default CurrentUserContext;\n","function Header(props) {\n  return <header className={props.headerStyle}>{props.children}</header>;\n}\n\nexport default Header;\n","import { useContext } from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner._id === currentUser._id;\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n\n  return (\n    <li className=\"card\">\n      <button\n        type=\"button\"\n        className={`button button_type_delete ${\n          isOwn ? '' : 'button_type_delete_hidden'\n        }`}\n        onClick={props.onCardDelete}\n      ></button>\n      <div\n        role=\"img\"\n        className=\"card__image\"\n        style={{ backgroundImage: `url(${props.card.link})` }}\n        alt={props.card.name}\n        onClick={props.onCardClick}\n      ></div>\n      <div className=\"card__info\">\n        <h2 className=\"card__title\">{props.card.name}</h2>\n        <div>\n          <button\n            type=\"button\"\n            aria-label=\"Like\"\n            className={`button button_type_like ${\n              isLiked ? 'button_type_liked' : ''\n            }`}\n            onClick={props.onCardLike}\n          ></button>\n          <p className=\"card__likes\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import { useContext } from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport Card from './Card';\n\nfunction Main(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__data\">\n          <div>\n            <div\n              role=\"img\"\n              aria-label=\"\"\n              className=\"profile__avatar\"\n              style={{ backgroundImage: `url(${currentUser.avatar})` }}\n              onClick={props.onEditAvatar}\n            ></div>\n            <button\n              type=\"button\"\n              aria-label=\"Edit avatar\"\n              className=\"button button_type_edit-avatar\"\n              onClick={props.onEditAvatar}\n            ></button>\n          </div>\n          <div className=\"profile__info\">\n            <div className=\"profile__text\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <p className=\"profile__job\">{currentUser.about}</p>\n            </div>\n            <button\n              type=\"button\"\n              aria-label=\"Edit profile\"\n              className=\"button button_type_edit\"\n              onClick={props.onEditProfile}\n            ></button>\n          </div>\n        </div>\n        <button\n          aria-label=\"Add card\"\n          className=\"button button_type_add\"\n          onClick={props.onAddCard}\n        ></button>\n      </section>\n\n      <section className=\"places\">\n        <ul className=\"places__list\">\n          {props.cards.map((card, index) => (\n            <Card\n              key={index}\n              card={card}\n              onCardClick={() => {\n                props.onCardClick(card);\n              }}\n              onCardLike={() => {\n                props.onCardLike(card);\n              }}\n              onCardDelete={() => {\n                props.onCardDelete(card);\n              }}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">© 2020 Around The U.S.</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","function PopupWithImage(props) {\n  return (\n    <div\n      className={`popup popup_type_image ${props.isOpen ? 'popup_opened' : ''}`}\n      onClick={props.onClose}\n    >\n      <div className=\"popup__container popup__container_type_image\">\n        <button\n          type=\"button\"\n          aria-label=\"Close\"\n          className=\"button button_type_close button_type_close_type_image\"\n          onClick={props.onClose}\n        ></button>\n        <figure className=\"popup__figure\">\n          <img\n            className=\"popup__image\"\n            src={props.card.link}\n            alt={props.card.title}\n          />\n          <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithImage;\n","function PopupWithForm(props) {\n  let content = (\n    <form\n      method=\"POST\"\n      name={`popup_type_${props.name}`}\n      className={`popup__form popup__form_type_${props.name}`}\n      noValidate={!!props.shouldNotValidate}\n      onSubmit={props.onSubmit}\n    >\n      {props.children}\n      <input\n        type=\"submit\"\n        value={`${props.buttonValue}`}\n        className={`button button_type_submit ${props.submitButtonClass}`}\n      />\n    </form>\n  );\n\n  if (props.isPopup) {\n    content = (\n      <div\n        className={`popup popup_type_${props.name} ${\n          props.isOpen ? 'popup_opened' : ''\n        }`}\n      >\n        <div className=\"popup__container\">\n          <button\n            type=\"button\"\n            aria-label=\"Close\"\n            className=\"button button_type_close\"\n            onClick={props.onClose}\n          ></button>\n\n          <h3 className=\"popup__title\">{props.title}</h3>\n\n          {content}\n        </div>\n      </div>\n    );\n  }\n\n  return content;\n}\n\nexport default PopupWithForm;\n","import { useContext, useEffect, useState } from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({ name, about: description });\n  }\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Edit profile\"\n      buttonValue=\"Save\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isPopup={true}\n      submitButtonClass=\"popup__button\"\n    >\n      <label>\n        <input\n          type=\"text\"\n          name=\"name\"\n          id=\"profile-name\"\n          className=\"popup__input popup__input_type_name\"\n          placeholder=\"Name\"\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n          defaultValue={name}\n          onChange={handleNameChange}\n        />\n        <span className=\"popup__error\" id=\"profile-name-error\"></span>\n      </label>\n      <label>\n        <input\n          type=\"text\"\n          name=\"job\"\n          id=\"profile-job\"\n          className=\"popup__input popup__input_type_job\"\n          placeholder=\"About me\"\n          required\n          minLength=\"2\"\n          maxLength=\"200\"\n          defaultValue={description}\n          onChange={handleDescriptionChange}\n        />\n        <span className=\"popup__error\" id=\"profile-job-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatarInput = useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: avatarInput,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-avatar\"\n      title=\"Change profile picture\"\n      buttonValue=\"Save\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isPopup={true}\n      submitButtonClass=\"popup__button\"\n    >\n      <label>\n        <input\n          type=\"url\"\n          name=\"url\"\n          id=\"profile-avatar\"\n          className=\"popup__input\"\n          placeholder=\"Image link\"\n          required\n          ref={avatarInput}\n        />\n        <span className=\"popup__error\" id=\"profile-avatar-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import { useEffect, useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddCardPopup(props) {\n  const [title, setTitle] = useState('');\n  const [link, setLink] = useState('');\n\n  function handleTitleChange(e) {\n    setTitle(e.target.value);\n  }\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddCard({ title, link });\n  }\n\n  useEffect(() => {\n    setTitle('');\n    setLink('');\n  }, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"add\"\n      title=\"New place\"\n      buttonValue=\"Create\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isPopup={true}\n      submitButtonClass=\"popup__button\"\n    >\n      <label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          id=\"card-title\"\n          className=\"popup__input popup__input_type_title\"\n          placeholder=\"Title\"\n          required\n          minLength=\"2\"\n          maxLength=\"30\"\n          value={title}\n          onChange={handleTitleChange}\n        />\n        <span className=\"popup__error\" id=\"card-title-error\"></span>\n      </label>\n\n      <label>\n        <input\n          type=\"url\"\n          name=\"url\"\n          id=\"card-url\"\n          className=\"popup__input popup__input_type_image-url\"\n          placeholder=\"Image link\"\n          required\n          value={link}\n          onChange={handleLinkChange}\n        />\n        <span className=\"popup__error\" id=\"card-url-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddCardPopup;\n","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport PopupWithForm from './PopupWithForm';\n\nfunction Login(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.handleLogin(email, password);\n  }\n\n  return (\n    <section className=\"account\">\n      <h2 className=\"account__title\">Log in</h2>\n      <PopupWithForm\n        name=\"account\"\n        buttonValue=\"Log in\"\n        submitButtonClass=\"button_type_submit_type_account\"\n        onSubmit={handleSubmit}\n      >\n        <label>\n          <input\n            className=\"popup__input popup__input_type_account\"\n            placeholder=\"Email\"\n            required\n            value={email}\n            onChange={handleEmailChange}\n            type=\"email\"\n          ></input>\n        </label>\n        <label>\n          <input\n            className=\"popup__input popup__input_type_account\"\n            placeholder=\"Password\"\n            required\n            value={password}\n            onChange={handlePasswordChange}\n            type=\"password\"\n          ></input>\n        </label>\n        <div className=\"popup__spacer\"></div>\n      </PopupWithForm>\n      <Link to=\"/signup\" className=\"account__link button\">\n        Not a member yet? Sign up here!\n      </Link>\n    </section>\n  );\n}\n\nexport default Login;\n","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport PopupWithForm from './PopupWithForm';\n\nfunction Register(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.handleRegistration(email, password);\n  }\n\n  return (\n    <section className=\"account\">\n      <h2 className=\"account__title\">Sign up</h2>\n      <PopupWithForm\n        name=\"account\"\n        buttonValue=\"Sign up\"\n        submitButtonClass=\"button_type_submit_type_account\"\n        onSubmit={handleSubmit}\n      >\n        <label>\n          <input\n            className=\"popup__input popup__input_type_account\"\n            placeholder=\"Email\"\n            required\n            value={email}\n            onChange={handleEmailChange}\n            type=\"email\"\n          ></input>\n        </label>\n        <label>\n          <input\n            className=\"popup__input popup__input_type_account\"\n            placeholder=\"Password\"\n            required\n            value={password}\n            onChange={handlePasswordChange}\n            type=\"password\"\n          ></input>\n        </label>\n        <div className=\"popup__spacer\"></div>\n      </PopupWithForm>\n      <Link to=\"/signin\" className=\"account__link button\">\n        Already a member? Log in here!\n      </Link>\n    </section>\n  );\n}\n\nexport default Register;\n","function InfoTooltip(props) {\n  return (\n    <div className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          aria-label=\"Close\"\n          className=\"button button_type_close\"\n          onClick={props.onClose}\n        ></button>\n        <div\n          className={`popup__infotooltip-image_status_${\n            props.isSuccess ? 'success' : 'oops'\n          }`}\n        ></div>\n        <h3 className=\"popup__title popup__title_type_infotooltip\">\n          {props.isSuccess\n            ? 'Success! You have now been registered.'\n            : 'Oops, something went wrong! Please try again.'}\n        </h3>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","import { Redirect, Route } from 'react-router-dom';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\n      }\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","/* eslint-disable no-console */\nimport { useEffect, useState } from 'react';\nimport { Link, Redirect, Route, Switch, useHistory } from 'react-router-dom';\nimport { Squash as Hamburger } from 'hamburger-react';\nimport api from '../utils/api';\nimport { authorize, checkToken, register } from '../utils/auth';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithImage from './PopupWithImage';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddCardPopup from './AddCardPopup';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\n\nfunction App() {\n  const history = useHistory();\n\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const [userEmail, setUserEmail] = useState('');\n  const [currentUser, setCurrentUser] = useState({});\n\n  const [cards, setCards] = useState([]);\n\n  const [selectedCard, setSelectedCard] = useState({ link: '', name: '' });\n\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddCardPopupOpen, setIsAddCardPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddCardPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({ link: card.link, name: card.name });\n    setIsImagePopupOpen(true);\n  }\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .updateCardLikes(card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddCardPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsInfoTooltipOpen(false);\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api\n      .patchUserInfo({ name, about })\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api\n      .patchAvatarImage(avatar.current.value)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddCard({ title, link }) {\n    api\n      .postCard({ title, link })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleRegistration(email, password) {\n    register(email, password)\n      .then((res) => {\n        if (res.error) {\n          setIsSuccess(false);\n          setIsInfoTooltipOpen(true);\n          throw new Error(res.error);\n        } else {\n          setIsSuccess(true);\n          setIsInfoTooltipOpen(true);\n          setUserEmail(email);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleLogin(email, password) {\n    authorize(email, password)\n      .then((res) => {\n        if (!res) {\n          setIsSuccess(false);\n          setIsInfoTooltipOpen(true);\n          throw new Error('No token received from backend');\n        } else {\n          setUserEmail(email);\n          setLoggedIn(true);\n          history.push('/');\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem('token');\n    setLoggedIn(false);\n    setIsMenuOpen(false);\n    history.push('/signin');\n    setUserEmail('');\n  }\n\n  function handleCheckToken() {\n    const token = localStorage.getItem('token');\n    if (token !== 'undefined') {\n      checkToken(token)\n        .then((res) => {\n          setUserEmail(res.data.email);\n          setLoggedIn(true);\n          history.push('/');\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      setLoggedIn(false);\n    }\n  }\n\n  function handleCloseRegistrationInfoTooltip() {\n    closeAllPopups();\n    if (isSuccess) {\n      history.push('/signin');\n    }\n  }\n\n  useEffect(() => {\n    api\n      .getUserInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    api\n      .getInitialCards()\n      .then((initialCards) => {\n        setCards(initialCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(handleCheckToken, [history]);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Switch>\n          <Route exact path=\"/\">\n            <div\n              className={`page__container page__container_around ${\n                isMenuOpen ? 'page__container_around_opened' : ''\n              }`}\n            >\n              <Header headerStyle=\"header_type_around\">\n                <div className=\"header__logo-and-hamburger\">\n                  <div\n                    role=\"img\"\n                    aria-label=\"Around The U.S.\"\n                    className=\"header__logo header__logo_around\"\n                  ></div>\n                  <Hamburger\n                    size={24}\n                    color=\"#fff\"\n                    easing=\"ease\"\n                    label=\"Show menu\"\n                    toggled={isMenuOpen}\n                    toggle={setIsMenuOpen}\n                  />\n                </div>\n                <div className=\"header__account\">\n                  <p className=\"header__user-email\">{userEmail}</p>\n                  <p className=\"header__log-out button\" onClick={handleSignOut}>\n                    Log out\n                  </p>\n                </div>\n              </Header>\n\n              <ProtectedRoute\n                component={Main}\n                cards={cards}\n                loggedIn={loggedIn}\n                onEditAvatar={handleEditAvatarClick}\n                onEditProfile={handleEditProfileClick}\n                onAddCard={handleAddPlaceClick}\n                onCardClick={(card) => {\n                  handleCardClick(card);\n                }}\n                onCardLike={(card) => {\n                  handleCardLike(card);\n                }}\n                onCardDelete={(card) => {\n                  handleCardDelete(card);\n                }}\n              />\n              <Footer />\n            </div>\n            <EditProfilePopup\n              isOpen={isEditProfilePopupOpen}\n              onClose={closeAllPopups}\n              onUpdateUser={handleUpdateUser}\n            />\n\n            <EditAvatarPopup\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              onUpdateAvatar={handleUpdateAvatar}\n            />\n\n            <AddCardPopup\n              isOpen={isAddCardPopupOpen}\n              onClose={closeAllPopups}\n              onAddCard={handleAddCard}\n            />\n\n            <PopupWithImage\n              card={selectedCard}\n              isOpen={isImagePopupOpen}\n              onClose={closeAllPopups}\n            />\n          </Route>\n\n          <Route exact path=\"/signup\">\n            <div className=\"page__container\">\n              <Header headerStyle=\"header\">\n                <div\n                  role=\"img\"\n                  aria-label=\"Around The U.S.\"\n                  className=\"header__logo\"\n                ></div>\n                <Link to=\"/signin\" className=\"header__link button\">\n                  Log in\n                </Link>\n              </Header>\n\n              <Register handleRegistration={handleRegistration}></Register>\n            </div>\n            <InfoTooltip\n              isOpen={isInfoTooltipOpen}\n              isSuccess={isSuccess}\n              onClose={handleCloseRegistrationInfoTooltip}\n            ></InfoTooltip>\n          </Route>\n\n          <Route exact path=\"/signin\">\n            <div className=\"page__container\">\n              <Header headerStyle=\"header\">\n                <div\n                  role=\"img\"\n                  aria-label=\"Around The U.S.\"\n                  className=\"header__logo\"\n                ></div>\n                <Link to=\"/signup\" className=\"header__link button\">\n                  Sign up\n                </Link>\n              </Header>\n\n              <Login handleLogin={handleLogin}></Login>\n            </div>\n            <InfoTooltip\n              isOpen={isInfoTooltipOpen}\n              isSuccess={isSuccess}\n              onClose={closeAllPopups}\n            ></InfoTooltip>\n          </Route>\n\n          <Redirect from=\"*\" to=\"/\" />\n        </Switch>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport 'normalize.css';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <StrictMode>\n    <Router basename=\"/\">\n      <App />\n    </Router>\n  </StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}