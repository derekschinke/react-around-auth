{"version":3,"sources":["utils/constants.js","utils/api.js","utils/auth.js","contexts/CurrentUserContext.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithImage.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddCardPopup.js","components/Login.js","components/Register.js","components/InfoTooltip.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["process","url","API_URL","api","options","this","baseUrl","token","a","fetch","headers","Authorization","res","ok","json","Error","status","cardId","isLiked","method","title","link","body","JSON","stringify","name","avatar","info","about","config","BASE_URL","register","email","password","Accept","console","log","authorize","data","localStorage","setItem","checkToken","CurrentUserContext","createContext","Header","props","className","headerStyle","children","Card","currentUser","useContext","isOwn","card","owner","_id","likes","some","i","type","onClick","onCardDelete","role","style","backgroundImage","alt","onCardClick","onCardLike","length","Main","onEditAvatar","onEditProfile","onAddCard","cards","map","index","Footer","PopupWithImage","isOpen","onClose","src","PopupWithForm","content","noValidate","shouldNotValidate","onSubmit","value","buttonValue","submitButtonClass","isPopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","placeholder","required","minLength","maxLength","defaultValue","onChange","target","EditAvatarPopup","avatarInput","useRef","onUpdateAvatar","ref","AddCardPopup","setTitle","setLink","Login","setEmail","setPassword","handleLogin","to","Register","handleRegistration","InfoTooltip","isSuccess","ProtectedRoute","Component","component","loggedIn","App","history","useHistory","setLoggedIn","userEmail","setUserEmail","setCurrentUser","setCards","selectedCard","setSelectedCard","isMenuOpen","setIsMenuOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddCardPopupOpen","setIsAddCardPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","setIsSuccess","getItem","setToken","closeAllPopups","getUserInfo","then","catch","err","getInitialCards","reverse","push","Provider","exact","path","size","color","easing","label","toggled","toggle","removeItem","handleCardClick","updateCardLikes","newCard","newCards","c","handleCardLike","deleteCard","filter","handleCardDelete","patchUserInfo","patchAvatarImage","current","postCard","error","from","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.0763c65b.chunk.js","sourcesContent":["const prod = { url: { API_URL: 'https://nameless-atoll-39774.herokuapp.com' } };\n\nconst dev = { url: { API_URL: 'http://localhost:3001' } };\n\nexport default process.env.NODE_ENV === 'development' ? dev : prod;\n","import config from './constants';\n\nclass Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n  }\n\n  async getUserInfo(token) {\n    const res = await fetch(`${this.baseUrl}/users/me`, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    if (res.ok) {\n      return res.json();\n    }\n    throw new Error(`Error: ${res.status}`);\n  }\n\n  async getInitialCards(token) {\n    const res = await fetch(`${this.baseUrl}/cards`, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    if (res.ok) {\n      return res.json();\n    }\n    throw new Error(`Error: ${res.status}`);\n  }\n\n  async updateCardLikes(cardId, isLiked, token) {\n    const method = isLiked ? 'DELETE' : 'PUT';\n    const res = await fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n      method,\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    if (res.ok) {\n      return res.json();\n    }\n    throw new Error(`Error: ${res.status}`);\n  }\n\n  async deleteCard(cardId, token) {\n    const res = await fetch(`${this.baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    if (res.ok) {\n      return res.json();\n    }\n    throw new Error(`Error: ${res.status}`);\n  }\n\n  async postCard({ title, link }, token) {\n    const res = await fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify({ name: title, link }),\n    });\n    if (res.ok) {\n      return res.json();\n    }\n    throw new Error(`Error: ${res.status}`);\n  }\n\n  async patchAvatarImage(url, token) {\n    const res = await fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify({ avatar: url }),\n    });\n    if (res.ok) {\n      return res.json();\n    }\n    throw new Error(`Error: ${res.status}`);\n  }\n\n  async patchUserInfo(info, token) {\n    const res = await fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify({ name: info.name, about: info.about }),\n    });\n    if (res.ok) {\n      return res.json();\n    }\n    throw new Error(`Error: ${res.status}`);\n  }\n}\n\nconst api = new Api({ baseUrl: config.url.API_URL });\n\nexport default api;\n","/* eslint-disable no-console */\nimport config from './constants';\n\nconst BASE_URL = config.url.API_URL;\n\nexport const register = async (email, password) => {\n  try {\n    const res = await fetch(`${BASE_URL}/signup`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email, password }),\n    });\n    if (res.ok) {\n      return res.json();\n    }\n    throw new Error('Registration failed');\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const authorize = async (email, password) => {\n  try {\n    const res = await fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email, password }),\n    });\n    if (res.ok) {\n      const data = await res.json();\n      if (data.token) {\n        localStorage.setItem('token', data.token);\n        return data;\n      }\n      throw new Error('No token received');\n    }\n    throw new Error('Authorization failed');\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const checkToken = async (token) => {\n  try {\n    const res = await fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    if (res.ok) {\n      const data = await res.json();\n      return data;\n    }\n    throw new Error('Authorization failed');\n  } catch (err) {\n    console.log(err);\n  }\n};\n","import { createContext } from 'react';\n\nconst CurrentUserContext = createContext({});\n\nexport default CurrentUserContext;\n","function Header(props) {\n  return <header className={props.headerStyle}>{props.children}</header>;\n}\n\nexport default Header;\n","import { useContext } from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  const isOwn = props.card.owner === currentUser._id;\n  const isLiked = props.card.likes.some((i) => i === currentUser._id);\n\n  return (\n    <li className=\"card\">\n      <button\n        type=\"button\"\n        className={`button button_type_delete ${\n          isOwn ? '' : 'button_type_delete_hidden'\n        }`}\n        onClick={props.onCardDelete}\n      ></button>\n      <div\n        role=\"img\"\n        className=\"card__image\"\n        style={{ backgroundImage: `url(${props.card.link})` }}\n        alt={props.card.name}\n        onClick={props.onCardClick}\n      ></div>\n      <div className=\"card__info\">\n        <h2 className=\"card__title\">{props.card.name}</h2>\n        <div>\n          <button\n            type=\"button\"\n            aria-label=\"Like\"\n            className={`button button_type_like ${\n              isLiked ? 'button_type_liked' : ''\n            }`}\n            onClick={props.onCardLike}\n          ></button>\n          <p className=\"card__likes\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import { useContext } from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport Card from './Card';\n\nfunction Main(props) {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__data\">\n          <div>\n            <div\n              role=\"img\"\n              aria-label=\"\"\n              className=\"profile__avatar\"\n              style={{ backgroundImage: `url(${currentUser.avatar})` }}\n              onClick={props.onEditAvatar}\n            ></div>\n            <button\n              type=\"button\"\n              aria-label=\"Edit avatar\"\n              className=\"button button_type_edit-avatar\"\n              onClick={props.onEditAvatar}\n            ></button>\n          </div>\n          <div className=\"profile__info\">\n            <div className=\"profile__text\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <p className=\"profile__job\">{currentUser.about}</p>\n            </div>\n            <button\n              type=\"button\"\n              aria-label=\"Edit profile\"\n              className=\"button button_type_edit\"\n              onClick={props.onEditProfile}\n            ></button>\n          </div>\n        </div>\n        <button\n          aria-label=\"Add card\"\n          className=\"button button_type_add\"\n          onClick={props.onAddCard}\n        ></button>\n      </section>\n\n      <section className=\"places\">\n        <ul className=\"places__list\">\n          {props.cards.map((card, index) => (\n            <Card\n              key={index}\n              card={card}\n              onCardClick={() => {\n                props.onCardClick(card);\n              }}\n              onCardLike={() => {\n                props.onCardLike(card);\n              }}\n              onCardDelete={() => {\n                props.onCardDelete(card);\n              }}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">Â© 2020 Around The U.S.</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","function PopupWithImage(props) {\n  return (\n    <div\n      className={`popup popup_type_image ${props.isOpen ? 'popup_opened' : ''}`}\n      onClick={props.onClose}\n    >\n      <div className=\"popup__container popup__container_type_image\">\n        <button\n          type=\"button\"\n          aria-label=\"Close\"\n          className=\"button button_type_close button_type_close_type_image\"\n          onClick={props.onClose}\n        ></button>\n        <figure className=\"popup__figure\">\n          <img\n            className=\"popup__image\"\n            src={props.card.link}\n            alt={props.card.title}\n          />\n          <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithImage;\n","function PopupWithForm(props) {\n  let content = (\n    <form\n      method=\"POST\"\n      name={`popup_type_${props.name}`}\n      className={`popup__form popup__form_type_${props.name}`}\n      noValidate={!!props.shouldNotValidate}\n      onSubmit={props.onSubmit}\n    >\n      {props.children}\n      <input\n        type=\"submit\"\n        value={`${props.buttonValue}`}\n        className={`button button_type_submit ${props.submitButtonClass}`}\n      />\n    </form>\n  );\n\n  if (props.isPopup) {\n    content = (\n      <div\n        className={`popup popup_type_${props.name} ${\n          props.isOpen ? 'popup_opened' : ''\n        }`}\n      >\n        <div className=\"popup__container\">\n          <button\n            type=\"button\"\n            aria-label=\"Close\"\n            className=\"button button_type_close\"\n            onClick={props.onClose}\n          ></button>\n\n          <h3 className=\"popup__title\">{props.title}</h3>\n\n          {content}\n        </div>\n      </div>\n    );\n  }\n\n  return content;\n}\n\nexport default PopupWithForm;\n","import { useContext, useEffect, useState } from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({ name, about: description });\n  }\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      name=\"edit\"\n      title=\"Edit profile\"\n      buttonValue=\"Save\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isPopup={true}\n      submitButtonClass=\"popup__button\"\n    >\n      <label>\n        <input\n          type=\"text\"\n          name=\"name\"\n          id=\"profile-name\"\n          className=\"popup__input popup__input_type_name\"\n          placeholder=\"Name\"\n          required\n          minLength=\"2\"\n          maxLength=\"30\"\n          defaultValue={name}\n          onChange={handleNameChange}\n        />\n        <span className=\"popup__error\" id=\"profile-name-error\"></span>\n      </label>\n      <label>\n        <input\n          type=\"text\"\n          name=\"job\"\n          id=\"profile-job\"\n          className=\"popup__input popup__input_type_job\"\n          placeholder=\"About me\"\n          required\n          minLength=\"2\"\n          maxLength=\"30\"\n          defaultValue={description}\n          onChange={handleDescriptionChange}\n        />\n        <span className=\"popup__error\" id=\"profile-job-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatarInput = useRef('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: avatarInput,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-avatar\"\n      title=\"Change profile picture\"\n      buttonValue=\"Save\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isPopup={true}\n      submitButtonClass=\"popup__button\"\n    >\n      <label>\n        <input\n          type=\"url\"\n          name=\"url\"\n          id=\"profile-avatar\"\n          className=\"popup__input\"\n          placeholder=\"Image link\"\n          required\n          ref={avatarInput}\n        />\n        <span className=\"popup__error\" id=\"profile-avatar-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import { useEffect, useState } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddCardPopup(props) {\n  const [title, setTitle] = useState('');\n  const [link, setLink] = useState('');\n\n  function handleTitleChange(e) {\n    setTitle(e.target.value);\n  }\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddCard({ title, link });\n  }\n\n  useEffect(() => {\n    setTitle('');\n    setLink('');\n  }, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"add\"\n      title=\"New place\"\n      buttonValue=\"Create\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      isPopup={true}\n      submitButtonClass=\"popup__button\"\n    >\n      <label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          id=\"card-title\"\n          className=\"popup__input popup__input_type_title\"\n          placeholder=\"Title\"\n          required\n          minLength=\"2\"\n          maxLength=\"30\"\n          value={title}\n          onChange={handleTitleChange}\n        />\n        <span className=\"popup__error\" id=\"card-title-error\"></span>\n      </label>\n\n      <label>\n        <input\n          type=\"url\"\n          name=\"url\"\n          id=\"card-url\"\n          className=\"popup__input popup__input_type_image-url\"\n          placeholder=\"Image link\"\n          required\n          value={link}\n          onChange={handleLinkChange}\n        />\n        <span className=\"popup__error\" id=\"card-url-error\"></span>\n      </label>\n    </PopupWithForm>\n  );\n}\n\nexport default AddCardPopup;\n","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport PopupWithForm from './PopupWithForm';\n\nfunction Login(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.handleLogin(email, password);\n  }\n\n  return (\n    <section className=\"account\">\n      <h2 className=\"account__title\">Log in</h2>\n      <PopupWithForm\n        name=\"account\"\n        buttonValue=\"Log in\"\n        submitButtonClass=\"button_type_submit_type_account\"\n        onSubmit={handleSubmit}\n      >\n        <label>\n          <input\n            className=\"popup__input popup__input_type_account\"\n            placeholder=\"Email\"\n            required\n            value={email}\n            onChange={handleEmailChange}\n            type=\"email\"\n          ></input>\n        </label>\n        <label>\n          <input\n            className=\"popup__input popup__input_type_account\"\n            placeholder=\"Password\"\n            required\n            value={password}\n            onChange={handlePasswordChange}\n            type=\"password\"\n            minLength=\"8\"\n          ></input>\n        </label>\n        <div className=\"popup__spacer\"></div>\n      </PopupWithForm>\n      <Link to=\"/signup\" className=\"account__link button\">\n        Not a member yet? Sign up here!\n      </Link>\n    </section>\n  );\n}\n\nexport default Login;\n","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport PopupWithForm from './PopupWithForm';\n\nfunction Register(props) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.handleRegistration(email, password);\n  }\n\n  return (\n    <section className=\"account\">\n      <h2 className=\"account__title\">Sign up</h2>\n      <PopupWithForm\n        name=\"account\"\n        buttonValue=\"Sign up\"\n        submitButtonClass=\"button_type_submit_type_account\"\n        onSubmit={handleSubmit}\n      >\n        <label>\n          <input\n            className=\"popup__input popup__input_type_account\"\n            placeholder=\"Email\"\n            required\n            value={email}\n            onChange={handleEmailChange}\n            type=\"email\"\n          ></input>\n        </label>\n        <label>\n          <input\n            className=\"popup__input popup__input_type_account\"\n            placeholder=\"Password\"\n            required\n            value={password}\n            onChange={handlePasswordChange}\n            type=\"password\"\n            minLength=\"8\"\n          ></input>\n        </label>\n        <div className=\"popup__spacer\"></div>\n      </PopupWithForm>\n      <Link to=\"/signin\" className=\"account__link button\">\n        Already a member? Log in here!\n      </Link>\n    </section>\n  );\n}\n\nexport default Register;\n","function InfoTooltip(props) {\n  return (\n    <div className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          aria-label=\"Close\"\n          className=\"button button_type_close\"\n          onClick={props.onClose}\n        ></button>\n        <div\n          className={`popup__infotooltip-image_status_${\n            props.isSuccess ? 'success' : 'oops'\n          }`}\n        ></div>\n        <h3 className=\"popup__title popup__title_type_infotooltip\">\n          {props.isSuccess\n            ? 'Success! You have now been registered.'\n            : 'Oops, something went wrong! Please try again.'}\n        </h3>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","import { Redirect, Route } from 'react-router-dom';\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/signin\" />\n      }\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","/* eslint-disable no-console */\nimport { useEffect, useState } from 'react';\nimport { Link, Redirect, Route, Switch, useHistory } from 'react-router-dom';\nimport { Squash as Hamburger } from 'hamburger-react';\nimport api from '../utils/api';\nimport { authorize, checkToken, register } from '../utils/auth';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithImage from './PopupWithImage';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddCardPopup from './AddCardPopup';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\n\nfunction App() {\n  const history = useHistory();\n\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const [userEmail, setUserEmail] = useState('');\n  const [currentUser, setCurrentUser] = useState({});\n\n  const [cards, setCards] = useState([]);\n\n  const [selectedCard, setSelectedCard] = useState({ link: '', name: '' });\n\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddCardPopupOpen, setIsAddCardPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  const [isSuccess, setIsSuccess] = useState(false);\n\n  const [token, setToken] = useState(localStorage.getItem('token'));\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddCardPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({ link: card.link, name: card.name });\n    setIsImagePopupOpen(true);\n  }\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i === currentUser._id);\n    api\n      .updateCardLikes(card._id, isLiked, token)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id, token)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddCardPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsInfoTooltipOpen(false);\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api\n      .patchUserInfo({ name, about }, token)\n      .then((res) => {\n        setCurrentUser(res.data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api\n      .patchAvatarImage(avatar.current.value, token)\n      .then((res) => {\n        setCurrentUser(res.data);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddCard({ title, link }) {\n    api\n      .postCard({ title, link }, token)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleRegistration(email, password) {\n    register(email, password)\n      .then((res) => {\n        if (res) {\n          setIsSuccess(true);\n          setIsInfoTooltipOpen(true);\n          setUserEmail(email);\n        } else {\n          setIsSuccess(false);\n          setIsInfoTooltipOpen(true);\n          throw new Error(res.error);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleLogin(email, password) {\n    authorize(email, password)\n      .then((res) => {\n        if (res) {\n          setUserEmail(email);\n          setLoggedIn(true);\n          setToken(res.token);\n          history.push('/');\n        } else {\n          setIsSuccess(false);\n          setIsInfoTooltipOpen(true);\n          throw new Error('No token received from backend');\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem('token');\n    setLoggedIn(false);\n    setIsMenuOpen(false);\n    history.push('/signin');\n    setUserEmail('');\n    setCurrentUser({});\n  }\n\n  function handleCheckToken() {\n    if (token !== 'undefined') {\n      checkToken(token)\n        .then((res) => {\n          setUserEmail(res.data.email);\n          setLoggedIn(true);\n          history.push('/');\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      setLoggedIn(false);\n    }\n  }\n\n  function handleCloseRegistrationInfoTooltip() {\n    closeAllPopups();\n    if (isSuccess) {\n      history.push('/signin');\n    }\n  }\n\n  useEffect(() => {\n    api\n      .getUserInfo(token)\n      .then((res) => {\n        setCurrentUser(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n\n    api\n      .getInitialCards(token)\n      .then((res) => {\n        setCards(res.data.reverse());\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, [token]);\n\n  useEffect(handleCheckToken, [history, token]);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Switch>\n          <Route exact path=\"/\">\n            <div\n              className={`page__container page__container_around ${\n                isMenuOpen ? 'page__container_around_opened' : ''\n              }`}\n            >\n              <Header headerStyle=\"header_type_around\">\n                <div className=\"header__logo-and-hamburger\">\n                  <div\n                    role=\"img\"\n                    aria-label=\"Around The U.S.\"\n                    className=\"header__logo header__logo_around\"\n                  ></div>\n                  <Hamburger\n                    size={24}\n                    color=\"#fff\"\n                    easing=\"ease\"\n                    label=\"Show menu\"\n                    toggled={isMenuOpen}\n                    toggle={setIsMenuOpen}\n                  />\n                </div>\n                <div className=\"header__account\">\n                  <p className=\"header__user-email\">{userEmail}</p>\n                  <p className=\"header__log-out button\" onClick={handleSignOut}>\n                    Log out\n                  </p>\n                </div>\n              </Header>\n\n              <ProtectedRoute\n                component={Main}\n                cards={cards}\n                loggedIn={loggedIn}\n                onEditAvatar={handleEditAvatarClick}\n                onEditProfile={handleEditProfileClick}\n                onAddCard={handleAddPlaceClick}\n                onCardClick={(card) => {\n                  handleCardClick(card);\n                }}\n                onCardLike={(card) => {\n                  handleCardLike(card);\n                }}\n                onCardDelete={(card) => {\n                  handleCardDelete(card);\n                }}\n              />\n              <Footer />\n            </div>\n            <EditProfilePopup\n              isOpen={isEditProfilePopupOpen}\n              onClose={closeAllPopups}\n              onUpdateUser={handleUpdateUser}\n            />\n\n            <EditAvatarPopup\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              onUpdateAvatar={handleUpdateAvatar}\n            />\n\n            <AddCardPopup\n              isOpen={isAddCardPopupOpen}\n              onClose={closeAllPopups}\n              onAddCard={handleAddCard}\n            />\n\n            <PopupWithImage\n              card={selectedCard}\n              isOpen={isImagePopupOpen}\n              onClose={closeAllPopups}\n            />\n          </Route>\n\n          <Route exact path=\"/signup\">\n            <div className=\"page__container\">\n              <Header headerStyle=\"header\">\n                <div\n                  role=\"img\"\n                  aria-label=\"Around The U.S.\"\n                  className=\"header__logo\"\n                ></div>\n                <Link to=\"/signin\" className=\"header__link button\">\n                  Log in\n                </Link>\n              </Header>\n\n              <Register handleRegistration={handleRegistration}></Register>\n            </div>\n            <InfoTooltip\n              isOpen={isInfoTooltipOpen}\n              isSuccess={isSuccess}\n              onClose={handleCloseRegistrationInfoTooltip}\n            ></InfoTooltip>\n          </Route>\n\n          <Route exact path=\"/signin\">\n            <div className=\"page__container\">\n              <Header headerStyle=\"header\">\n                <div\n                  role=\"img\"\n                  aria-label=\"Around The U.S.\"\n                  className=\"header__logo\"\n                ></div>\n                <Link to=\"/signup\" className=\"header__link button\">\n                  Sign up\n                </Link>\n              </Header>\n\n              <Login handleLogin={handleLogin}></Login>\n            </div>\n            <InfoTooltip\n              isOpen={isInfoTooltipOpen}\n              isSuccess={isSuccess}\n              onClose={closeAllPopups}\n            ></InfoTooltip>\n          </Route>\n\n          <Redirect from=\"*\" to=\"/\" />\n        </Switch>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport 'normalize.css';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <StrictMode>\n    <Router basename=\"/\">\n      <App />\n    </Router>\n  </StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}